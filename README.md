# Microplay

A shared library with some common toolset for all Play based RESTfull micro services 
This library is meant to be used a dependency rather then a copy/paste seed/scaffold project

#### Main Features

- Base REST API Controller `com.pb.microplay.controllers.components.ApiControllerActions` supporting:
    - cross-thread request context tracking in logs with a correlation id. injected for any `apiAction` in controllers inheriting from `ApiControllerActions`.  implementation: `com.pb.microplay.logging.MDCManager`, `com.pb.microplay.logging.MDCPropagatingDispatcherConfigurator`
    - json/xml content negotiation
    - global error handlers returns json response
- HTTP trace filter. GZIP content negotiation filter
- swagger UI and swagger core integration
- exposes /health, /status /docs API endpoints 
- Standard json based REST API consumer - `com.pb.microplay.services.RestApiConsumer`
- Objects to Json conversion utils. under `\app\com\pb\microplay\utils`   

#### Installation/Usage

 - Add the artifact generated by the library as an sbt dependency to your play build.sbt:
    ```scala
    "com.pb"  %% "microplay" % "2.6.3.52"
    or
    "com.pb"  %% "microplay" % "2.6.3.+"
    ```

- Your projects `application.conf` will inherit defaults from microplay `application.conf` - review overridable microplay default settings under 
  ```javascript
  micro {
      //microplay default settings....
  }  
  ```

#### Versioning
Microplay library version is prefixed with the version of play framework which it depends upon. 

version format:
`<play-major>.<play-minor>.<microplay-major>-<microplay-minor>`
 
#### IJ IDEA Project setup:
1. git clone 
2. import build.sbt in IDEA Â®
3. run sbt compile ( required so BuildInfoPlugin will generate BuildInfo class)
4. right click microplay-lib/build.bst -> Run Play 2 App (verify PlayFramework support plugin installed)
5. on code changes - > compile (Ctrl F9) and refresh browser
6. re-run tests & publish locally - `sbt clean compile test it:test publishLocal`

### Contributing/Developing
Please refer to [`CONTRIBUTING.md`](./CONTRIBUTING.md) file.

### License
Copyright (c) 2016 - 2020  [Pitney Bowes](https://www.pitneybowes.com).
Licensed for free usage under the terms and conditions of Apache V2 - [Apache V2 License](https://www.apache.org/licenses/LICENSE-2.0).

![Pitney Bowes](PB_Logo.jpg)